{% extends 'base.html' %} {% load tz %} {% block content %}
<style>
  .card {
    background-color: rgba(0, 0, 0, 0.7);
    border: none;
    border-radius: 12px;
    color: #fff;
  }
  .card-header {
    background-color: transparent;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  }
  .date-picker-form input {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #fff;
    border-radius: 6px;
    padding: 0.375rem 0.75rem;
  }
  .list-group-item {
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
  }
</style>
<div class="container-fluid mt-4">
  <h1 class="h2 mb-4">Dashboard</h1>
  <p class="mb-4">Welcome, <span class="fw-bold">{{ user.username }}</span>!</p>

  <div class="row"></div>

  <div class="card mt-4"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const ctx = document.getElementById('loginPieChart').getContext('2d');
    const chartLabels = {{ chart_labels|safe }};
    const chartData = {{ chart_data|safe }};
    new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: chartLabels,
        datasets: [{
          label: 'Logins',
          data: chartData,
          backgroundColor: [
            'rgba(90, 50, 232, 0.8)',
            'rgba(138, 111, 249, 0.8)',
            'rgba(185, 168, 251, 0.8)',
            'rgba(233, 236, 239, 0.8)'
          ],
          hoverOffset: 20,
          borderWidth: 0,
        }]
      },
      options: {
        // Chart options remain the same
      }
    });

    const datePicker = document.getElementById('date-picker');
    if(datePicker) {
      datePicker.addEventListener('change', function() {
        document.getElementById('datePickerForm').submit();
      });
    }
  });
</script>

{% endblock %}
